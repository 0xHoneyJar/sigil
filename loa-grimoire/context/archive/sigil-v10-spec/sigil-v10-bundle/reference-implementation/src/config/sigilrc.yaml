# Sigil Soul Engine v10 — Project Configuration
# Place this file at the root of your project as .sigilrc.yaml

version: "10.0"

# ═══════════════════════════════════════════════════════════════════════════
# ZONE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════
# Zones map file paths to material and sync defaults

zones:
  # Critical zones: Trust through tactility
  critical:
    material: "clay"
    sync: "server_tick"
    paths:
      - "src/features/checkout/**"
      - "src/features/claim/**"
      - "src/features/payment/**"
      - "src/features/trade/**"
      - "app/(app)/checkout/**"
      - "app/(app)/claim/**"
    tensions:
      playfulness: 30
      weight: 70
      density: 40
      speed: 40

  # Transactional zones: Speed through efficiency
  transactional:
    material: "machinery"
    sync: "lww"
    paths:
      - "src/features/dashboard/**"
      - "src/features/settings/**"
      - "src/features/admin/**"
      - "app/(app)/dashboard/**"
      - "app/(app)/settings/**"
    tensions:
      playfulness: 20
      weight: 30
      density: 70
      speed: 95

  # Exploratory zones: Curiosity through lightness
  exploratory:
    material: "glass"
    sync: "lww"
    paths:
      - "src/features/discovery/**"
      - "src/features/browse/**"
      - "src/features/search/**"
    tensions:
      playfulness: 60
      weight: 30
      density: 40
      speed: 60

  # Marketing zones: Warmth through weight
  marketing:
    material: "clay"
    sync: "none"
    paths:
      - "src/features/marketing/**"
      - "src/features/landing/**"
      - "app/(marketing)/**"
    tensions:
      playfulness: 50
      weight: 60
      density: 30
      speed: 50

# ═══════════════════════════════════════════════════════════════════════════
# DEFAULT TENSIONS
# ═══════════════════════════════════════════════════════════════════════════

tensions:
  default:
    playfulness: 50
    weight: 50
    density: 50
    speed: 50
  
  # Named presets
  presets:
    linear:
      playfulness: 20
      weight: 30
      density: 70
      speed: 95
    airbnb:
      playfulness: 50
      weight: 60
      density: 40
      speed: 50
    nintendo:
      playfulness: 80
      weight: 50
      density: 30
      speed: 60

# ═══════════════════════════════════════════════════════════════════════════
# SYNC CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

sync:
  # Tick rate for server-tick data (milliseconds)
  tick_rate_ms: 600
  
  # CRDT library
  crdt_library: "yjs"
  
  # Explicit path mappings
  mappings:
    "user.settings": "lww"
    "user.preferences": "lww"
    "document.content": "crdt"
    "comment.body": "crdt"
    "player.balance": "server_tick"
    "player.inventory": "server_tick"
    "player.health": "server_tick"
    "trade.*": "server_tick"

# ═══════════════════════════════════════════════════════════════════════════
# GARDENER CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

gardener:
  # Paper cut debt threshold (blocks features if exceeded)
  paper_cut_threshold: 10
  
  # 3:1 rule enforcement
  three_to_one_rule: true
  
  # Weekly scan for entropy
  weekly_scan: true
  
  # Categories to scan
  categories:
    - spacing_drift
    - color_drift
    - animation_inconsistency
    - component_duplication
    - accessibility_gaps

# ═══════════════════════════════════════════════════════════════════════════
# CONSTITUTION CHECKS
# ═══════════════════════════════════════════════════════════════════════════

constitution:
  # Run checks after generation
  enabled: true
  
  checks:
    material_compliance: true
    sync_alignment: true
    accessibility: true
    performance: true
  
  # Performance budget
  performance_budget_ms: 100
  
  # Severity levels that block shipping
  blocking_severity: "high"

# ═══════════════════════════════════════════════════════════════════════════
# ESSENCE (Soul Statement)
# ═══════════════════════════════════════════════════════════════════════════

essence:
  # The soul of the product (one sentence)
  soul_statement: "Our product feels [DEFINE YOUR FEEL]"
  
  # Invariants that never change
  invariants:
    - "Cmd+K is always available"
    - "Critical actions always confirm"
    - "Loading states never spin"
  
  # Emotions to achieve
  target_emotions:
    - "focused"
    - "confident"
    - "delighted"
  
  # Emotions to avoid
  forbidden_emotions:
    - "anxious"
    - "confused"
    - "rushed"

# ═══════════════════════════════════════════════════════════════════════════
# GOVERNANCE
# ═══════════════════════════════════════════════════════════════════════════

governance:
  # Visual lock: visuals are never polled
  visual_lock: true
  
  # Greenlight thresholds
  greenlight:
    sentiment_threshold: 0.60
    commit_threshold: 0.70
    quorum: 0.10
  
  # Roles
  roles:
    taste_owner: 1
    designer: 3
    researcher: 2
    engineer: 5
    gamifier: 1
