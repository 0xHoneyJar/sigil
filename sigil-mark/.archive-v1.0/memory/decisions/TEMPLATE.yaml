# Sigil Memory: Decision Record Template
# Tracks concept approvals and rejections from /greenlight.

decision:
  # ═══════════════════════════════════════════════════════════════════
  # IDENTITY
  # ═══════════════════════════════════════════════════════════════════

  id: "DEC-YYYY-NNN"         # Auto-generated ID
  era: ""                    # Which era this decision belongs to

  created_at: ""             # ISO date when decision was created
  updated_at: ""             # ISO date when last modified

  # ═══════════════════════════════════════════════════════════════════
  # CONCEPT
  # ═══════════════════════════════════════════════════════════════════

  concept:
    name: ""                 # Short name for the concept
    description: |
      Full description of what's being decided.
      Example: "Add dark mode support to the application"

    category: ""             # feature | enhancement | experiment | policy

    impact:
      zones: []              # Which zones are affected
      scope: ""              # single_component | feature | system_wide
      breaking: false        # Is this a breaking change?

  # ═══════════════════════════════════════════════════════════════════
  # DECISION STATUS
  # ═══════════════════════════════════════════════════════════════════

  status: ""                 # PENDING | APPROVED | REJECTED

  # For APPROVED decisions:
  approval:
    date: ""                 # ISO date when approved
    approved_by: ""          # Who approved (Taste Key holder, poll, etc.)
    rationale: |
      Why this was approved.
    conditions: []           # Any conditions for approval

  # For REJECTED decisions:
  rejection:
    date: ""                 # ISO date when rejected
    rejected_by: ""          # Who rejected
    reason: |
      Why this was rejected.

    # Cooldown period before concept can be reconsidered
    cooldown:
      ends: ""               # ISO date when cooldown expires
      duration_days: 180     # Default 6-month cooldown

  # ═══════════════════════════════════════════════════════════════════
  # IMPLEMENTATION STATUS
  # ═══════════════════════════════════════════════════════════════════

  implementation:
    implemented: false       # Has this been implemented?
    implemented_at: null     # ISO date when implemented
    implemented_by: null     # Who implemented

    # References to implementation
    files: []                # Files created/modified
    mutations: []            # Related mutation IDs
    rulings: []              # Related ruling IDs

  # ═══════════════════════════════════════════════════════════════════
  # POLLING DATA (if used)
  # ═══════════════════════════════════════════════════════════════════

  poll:
    was_polled: false        # Was this decided by poll?
    poll_id: null            # Reference to poll record

    results:
      approve_percentage: 0
      reject_percentage: 0
      abstain_percentage: 0
      total_votes: 0

  # ═══════════════════════════════════════════════════════════════════
  # LIFECYCLE TRACKING
  # ═══════════════════════════════════════════════════════════════════

  lifecycle:
    # For tracking orphaned approvals
    age_since_approval_days: 0    # Days since approval (if approved)
    is_orphaned: false            # Approved >6 months, not implemented

    # For tracking cooldown-expired rejections
    cooldown_expired: false       # Cooldown ended, can revisit

# ═══════════════════════════════════════════════════════════════════
# DECISION LIFECYCLE
# ═══════════════════════════════════════════════════════════════════
#
# 1. PENDING: Decision requested, awaiting input
#    - Created via /greenlight command
#    - May be polled or decided by Taste Key
#
# 2. APPROVED: Concept greenlit for implementation
#    - Has rationale and conditions
#    - Tracked for implementation progress
#    - Becomes ORPHANED if not implemented in 6 months
#
# 3. REJECTED: Concept not approved
#    - Has rejection reason
#    - Enters cooldown period (default 180 days)
#    - Can be reconsidered after cooldown expires
#
# 4. ARCHIVED: Moved to graveyard
#    - Old decisions that are no longer relevant
#    - Orphaned approvals that were never implemented
#
# Commands:
# - /greenlight [concept]    # Create decision
# - /garden decisions        # Review stale decisions
# - /garden archive DEC-ID   # Archive to graveyard
