# Sigil Soul: Zone Engine
# Path-based design zones with material, sync, and tension defaults
# Configure via /zone command

version: "1.0"
generated_at: null

# ═══════════════════════════════════════════════════════════════════════════════
# ZONE DEFINITIONS
# Each zone has material, sync, and tension defaults
# ═══════════════════════════════════════════════════════════════════════════════

zones:
  # ─────────────────────────────────────────────────────────────────────────────
  # CRITICAL ZONE
  # High-stakes actions requiring trust
  # Money, trades, claims, checkout
  # ─────────────────────────────────────────────────────────────────────────────
  critical:
    name: "Critical"
    description: "High-stakes actions requiring trust and deliberation"
    
    paths:
      - "src/features/checkout/**"
      - "src/features/claim/**"
      - "src/features/trade/**"
      - "src/features/wallet/**"
      - "src/features/transfer/**"
      - "app/(app)/checkout/**"
      - "app/(app)/claim/**"
      - "app/(app)/trade/**"
      - "components/checkout/**"
      - "components/claim/**"
    
    material: "clay"
    sync: "server_tick"
    
    tensions:
      playfulness: 30
      weight: 70
      density: 40
      speed: 40
    
    motion:
      style: "deliberate"
      entrance_ms: 800
      exit_ms: 400
      easing: "cubic-bezier(0.25, 0.1, 0.25, 1)"
    
    patterns:
      required:
        - "Pending state on all actions"
        - "Confirmation before irreversible"
        - "Success animation (xp_drop style)"
        - "Error recovery path"
      
      preferred:
        - "Skeleton loading"
        - "Deliberate entrance animations"
        - "Spring physics on buttons"
        - "Lift/depress feedback"
      
      forbidden:
        - "Spinners (create anxiety)"
        - "Optimistic updates (dangerous)"
        - "Instant transitions"
        - "Playful bounce"
        - "Auto-advancing flows"
    
    accessibility:
      focus_visible: "required"
      aria_live: "polite"
      reduced_motion: "respect"
    
    references:
      - "Bank transaction confirmations"
      - "OSRS Grand Exchange"
      - "Stripe Checkout"

  # ─────────────────────────────────────────────────────────────────────────────
  # TRANSACTIONAL ZONE
  # Data entry, settings, admin
  # Speed and efficiency over emotion
  # ─────────────────────────────────────────────────────────────────────────────
  transactional:
    name: "Transactional"
    description: "Data entry and management requiring speed and clarity"
    
    paths:
      - "src/features/dashboard/**"
      - "src/features/settings/**"
      - "src/features/admin/**"
      - "src/features/profile/**"
      - "app/(app)/dashboard/**"
      - "app/(app)/settings/**"
      - "app/(admin)/**"
      - "components/admin/**"
      - "components/settings/**"
    
    material: "machinery"
    sync: "lww"
    
    tensions:
      playfulness: 20
      weight: 30
      density: 70
      speed: 95
    
    motion:
      style: "instant"
      entrance_ms: 0
      exit_ms: 0
      easing: "step-end"
    
    patterns:
      required:
        - "Keyboard shortcuts"
        - "Instant feedback"
        - "Clear error states"
      
      preferred:
        - "Dense information layout"
        - "Tables over cards"
        - "Inline editing"
        - "Command palette access"
      
      forbidden:
        - "Loading animations"
        - "Decorative elements"
        - "Bounce effects"
        - "Delayed feedback"
    
    accessibility:
      focus_visible: "required"
      keyboard_nav: "required"
      aria_live: "assertive"
    
    references:
      - "Linear"
      - "Notion databases"
      - "VS Code"

  # ─────────────────────────────────────────────────────────────────────────────
  # EXPLORATORY ZONE
  # Discovery, browsing, search
  # Encourages exploration
  # ─────────────────────────────────────────────────────────────────────────────
  exploratory:
    name: "Exploratory"
    description: "Discovery and browsing with progressive revelation"
    
    paths:
      - "src/features/discovery/**"
      - "src/features/browse/**"
      - "src/features/search/**"
      - "src/features/explore/**"
      - "app/(app)/discover/**"
      - "app/(app)/browse/**"
      - "app/(app)/search/**"
      - "components/discovery/**"
      - "components/browse/**"
    
    material: "glass"
    sync: "lww"
    
    tensions:
      playfulness: 60
      weight: 30
      density: 40
      speed: 60
    
    motion:
      style: "flowing"
      entrance_ms: 200
      exit_ms: 150
      easing: "ease-out"
    
    patterns:
      required:
        - "Smooth scrolling"
        - "Progressive loading"
      
      preferred:
        - "Infinite scroll"
        - "Hover previews"
        - "Staggered reveals"
        - "Parallax (subtle)"
        - "Skeleton loading"
      
      forbidden:
        - "Blocking modals"
        - "Required actions"
        - "Hard pagination"
    
    accessibility:
      focus_visible: "required"
      scroll_restoration: "enabled"
    
    references:
      - "Pinterest"
      - "App Store"
      - "Spotify Browse"

  # ─────────────────────────────────────────────────────────────────────────────
  # MARKETING ZONE
  # Landing pages, promotion, conversion
  # Emotional, expressive
  # ─────────────────────────────────────────────────────────────────────────────
  marketing:
    name: "Marketing"
    description: "Landing pages and promotional content"
    
    paths:
      - "src/features/marketing/**"
      - "src/features/landing/**"
      - "src/features/home/**"
      - "app/(marketing)/**"
      - "app/(home)/**"
      - "components/marketing/**"
      - "components/landing/**"
    
    material: "clay"
    sync: "local_only"
    
    tensions:
      playfulness: 50
      weight: 60
      density: 30
      speed: 50
    
    motion:
      style: "expressive"
      entrance_ms: 400
      exit_ms: 200
      easing: "spring"
    
    patterns:
      required:
        - "Clear CTA hierarchy"
        - "Above-fold value prop"
      
      preferred:
        - "Scroll-triggered animations"
        - "Hero interactions"
        - "Social proof"
        - "Testimonial carousels"
        - "Feature showcases"
      
      allowed_extras:
        - "Longer animations (up to 1200ms)"
        - "More gradient stops (up to 3)"
        - "Subtle particle effects"
      
      forbidden:
        - "Auto-play video with sound"
        - "Blocking popups"
        - "Infinite carousels"
    
    accessibility:
      reduced_motion: "respect"
      prefers_contrast: "support"
    
    references:
      - "Stripe"
      - "Linear homepage"
      - "Vercel"

  # ─────────────────────────────────────────────────────────────────────────────
  # CELEBRATION ZONE
  # Success states, achievements, rewards
  # Maximum expression
  # ─────────────────────────────────────────────────────────────────────────────
  celebration:
    name: "Celebration"
    description: "Success states, achievements, and rewards"
    
    paths:
      - "src/features/success/**"
      - "src/features/achievement/**"
      - "src/features/reward/**"
      - "components/celebration/**"
      - "components/success/**"
    
    material: "clay"
    sync: "server_tick"  # Celebrations should be server-confirmed
    
    tensions:
      playfulness: 80
      weight: 50
      density: 20
      speed: 40
    
    motion:
      style: "triumphant"
      entrance_ms: 600
      hold_ms: 2000
      exit_ms: 400
      easing: "spring"
    
    patterns:
      required:
        - "Clear success indicator"
        - "Next action path"
      
      preferred:
        - "XP drop animation"
        - "Confetti (approved)"
        - "Sound effects (optional)"
        - "Screen shake (subtle)"
      
      allowed_extras:
        - "Particle effects"
        - "Elastic easing"
        - "Longer hold times"
      
      forbidden:
        - "Instant dismissal"
        - "Modal blocking"
    
    references:
      - "Duolingo"
      - "OSRS level-up"
      - "Diablo legendary drop"

# ═══════════════════════════════════════════════════════════════════════════════
# DEFAULT ZONE
# Fallback when path doesn't match any zone
# ═══════════════════════════════════════════════════════════════════════════════

default:
  name: "Default"
  description: "Fallback zone for unmatched paths"
  
  material: "clay"
  sync: "lww"
  
  tensions:
    playfulness: 50
    weight: 50
    density: 50
    speed: 50
  
  motion:
    style: "balanced"
    entrance_ms: 300
    exit_ms: 200
    easing: "spring"

# ═══════════════════════════════════════════════════════════════════════════════
# ZONE RESOLUTION
# How to determine zone for a file path
# ═══════════════════════════════════════════════════════════════════════════════

resolution:
  priority:
    - "critical"       # Highest priority
    - "celebration"
    - "transactional"
    - "exploratory"
    - "marketing"
    - "default"        # Fallback
  
  algorithm: |
    1. Normalize file path
    2. For each zone in priority order:
       a. For each glob pattern in zone.paths:
          - If path matches pattern, return zone
    3. Return "default"
  
  # Override file: Component can declare its zone
  override_comment: |
    // @sigil-zone critical
    // Forces this file to use critical zone regardless of path

# ═══════════════════════════════════════════════════════════════════════════════
# CUSTOM ZONES
# Registered via /zone add
# ═══════════════════════════════════════════════════════════════════════════════

custom_zones: {}
  # Example:
  # gaming:
  #   name: "Gaming"
  #   paths: ["src/features/game/**"]
  #   material: "clay"
  #   sync: "server_tick"
  #   motion:
  #     style: "step"
  #     tick_rate_ms: 600
