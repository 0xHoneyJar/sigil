# Sigil Soul: Material Registry
# Materials are compositions of physics primitives
# Extensible via /material register command

version: "1.0"
generated_at: null

# ═══════════════════════════════════════════════════════════════════════════════
# BUILT-IN MATERIALS
# These ship with Sigil and compose kernel primitives
# ═══════════════════════════════════════════════════════════════════════════════

materials:
  # ─────────────────────────────────────────────────────────────────────────────
  # GLASS
  # Light, translucent, refractive
  # Reference: VisionOS, iOS, macOS
  # ─────────────────────────────────────────────────────────────────────────────
  glass:
    name: "Glass"
    description: "Light, translucent, refractive material for floating UI"
    
    primitives:
      light: "refract"
      weight: "weightless"
      motion: "ease"
      feedback: ["glow"]
      surface: "translucent"
    
    config:
      blur: 20
      opacity: 0.7
      saturation: 180
    
    css_variables:
      --sigil-material: "glass"
      --sigil-blur: "20px"
      --sigil-opacity: "0.7"
      --sigil-saturation: "180%"
      --sigil-transition: "all 200ms ease-out"
    
    forbidden:
      - "Solid backgrounds"
      - "Hard shadows (blur < 8px)"
      - "Heavy borders (> 1px)"
      - "Spring animations"
      - "Lift/depress feedback"
    
    use_when:
      - "Floating panels"
      - "Overlays"
      - "Navigation that floats over content"
      - "Modals with content visible behind"
    
    avoid_when:
      - "Primary action buttons"
      - "Critical zone interactions"
      - "Data-dense interfaces"
    
    references:
      - product: "VisionOS"
        why: "Native glass panels"
      - product: "iOS Control Center"
        why: "Translucent over content"
      - product: "macOS menu bar"
        why: "Adaptive blur"

  # ─────────────────────────────────────────────────────────────────────────────
  # CLAY
  # Warm, tactile, weighted
  # Reference: Airbnb, Nintendo, OSRS, Stripe
  # ─────────────────────────────────────────────────────────────────────────────
  clay:
    name: "Clay"
    description: "Warm, tactile, weighted material with physical presence"
    
    primitives:
      light: "diffuse"
      weight: "heavy"
      motion: "spring"
      feedback: ["lift", "depress"]
      surface: "solid"
    
    config:
      spring_stiffness: 120
      spring_damping: 14
      shadow_warmth: 1.1
      gradient_angle: 135
    
    css_variables:
      --sigil-material: "clay"
      --sigil-spring: "cubic-bezier(0.34, 1.56, 0.64, 1)"
      --sigil-shadow-sm: "0 1px 2px rgba(0,0,0,0.05)"
      --sigil-shadow-md: "0 4px 12px rgba(0,0,0,0.08)"
      --sigil-shadow-lg: "0 8px 24px rgba(0,0,0,0.06)"
      --sigil-transition: "all 300ms cubic-bezier(0.34, 1.56, 0.64, 1)"
    
    forbidden:
      - "Flat design (no shadows)"
      - "Instant transitions"
      - "Shadowless elements"
      - "Pure gray backgrounds"
      - "Sharp corners on interactive elements"
    
    use_when:
      - "Primary action buttons"
      - "Cards with interaction"
      - "Forms and inputs"
      - "Critical zone UI"
      - "E-commerce"
    
    avoid_when:
      - "Data-dense admin interfaces"
      - "Real-time dashboards"
      - "Terminal-style UIs"
    
    references:
      - product: "Airbnb"
        why: "Warm cards, tactile buttons"
      - product: "Nintendo"
        why: "Bouncy, playful interactions"
      - product: "Stripe Dashboard"
        why: "Professional depth"
      - product: "OSRS"
        why: "Deliberate, weighty actions"

  # ─────────────────────────────────────────────────────────────────────────────
  # MACHINERY
  # Instant, precise, zero-latency
  # Reference: Linear, Terminal, VS Code
  # ─────────────────────────────────────────────────────────────────────────────
  machinery:
    name: "Machinery"
    description: "Instant, precise, zero-latency material for power users"
    
    primitives:
      light: "flat"
      weight: "none"
      motion: "instant"
      feedback: ["highlight"]
      surface: "solid"
    
    config:
      transition_duration: 0
      contrast: "high"
    
    css_variables:
      --sigil-material: "machinery"
      --sigil-transition: "none"
      --sigil-easing: "step-end"
      --sigil-bg: "#0A0A0A"
      --sigil-border: "#2A2A2A"
      --sigil-text: "#FAFAFA"
    
    forbidden:
      - "Fade-in animations"
      - "Bounce effects"
      - "Loading spinners"
      - "Decorative elements"
      - "Gradients"
      - "Box shadows"
      - "Spring physics"
    
    use_when:
      - "Command palettes"
      - "Keyboard-driven interfaces"
      - "Admin dashboards"
      - "Developer tools"
      - "Real-time data"
    
    avoid_when:
      - "Consumer onboarding"
      - "Marketing pages"
      - "Emotional moments (celebration, error)"
    
    references:
      - product: "Linear"
        why: "Instant everything"
      - product: "VS Code"
        why: "Zero decorative latency"
      - product: "Terminal"
        why: "Pure information"
      - product: "Raycast"
        why: "Keyboard-first speed"

# ═══════════════════════════════════════════════════════════════════════════════
# CUSTOM MATERIALS
# Registered via /material register
# ═══════════════════════════════════════════════════════════════════════════════

custom_materials: {}
  # Example:
  # paper:
  #   name: "Paper"
  #   extends: "clay"
  #   overrides:
  #     weight: "light"
  #     feedback: ["fold"]
  #   config:
  #     texture: "paper-grain"

# ═══════════════════════════════════════════════════════════════════════════════
# MATERIAL SELECTION RULES
# How to choose materials for different contexts
# ═══════════════════════════════════════════════════════════════════════════════

selection_rules:
  by_zone:
    critical: "clay"      # Trust-building requires weight
    transactional: "machinery"  # Speed requires instant
    exploratory: "glass"  # Discovery benefits from lightness
    marketing: "clay"     # Emotion requires tactile
    default: "clay"       # Safe default
  
  by_component:
    command_palette: "machinery"  # ALWAYS machinery
    modal: "glass"        # Default to glass
    button_primary: "clay"
    button_secondary: "glass"
    card: "clay"
    input: "clay"
    table: "machinery"
    nav: "glass"
    toast: "glass"
  
  by_sync:
    server_tick: "clay"   # Weight for high-stakes
    crdt: "glass"         # Lightness for collaboration
    lww: "clay"           # Tactile for state changes
    local_only: "machinery"  # Instant for ephemeral

# ═══════════════════════════════════════════════════════════════════════════════
# MATERIAL PHYSICS LOOKUP
# Quick reference for implementation
# ═══════════════════════════════════════════════════════════════════════════════

physics_lookup:
  glass:
    entrance:
      from: { opacity: 0, scale: 0.95, y: 8 }
      to: { opacity: 1, scale: 1, y: 0 }
      duration: 200
      easing: "ease-out"
    hover:
      transform: "translateY(-1px)"
      transition: "150ms ease-out"
    active:
      transform: "scale(0.98)"
      transition: "100ms ease-out"
    exit:
      to: { opacity: 0, scale: 0.95 }
      duration: 150
      easing: "ease-in"
  
  clay:
    entrance:
      from: { opacity: 0, scale: 0.95, y: 8 }
      to: { opacity: 1, scale: 1, y: 0 }
      duration: 300
      easing: "spring"
      spring: { stiffness: 120, damping: 14 }
    hover:
      transform: "translateY(-2px)"
      box_shadow: "0 8px 24px rgba(0,0,0,0.12)"
      transition: "300ms spring"
    active:
      transform: "translateY(1px) scale(0.98)"
      box_shadow: "0 2px 4px rgba(0,0,0,0.08)"
      transition: "150ms spring"
    exit:
      to: { opacity: 0, y: -8 }
      duration: 200
      easing: "ease-in"
  
  machinery:
    entrance:
      from: { opacity: 0 }
      to: { opacity: 1 }
      duration: 0
      easing: "step-end"
    hover:
      background: "rgba(255,255,255,0.05)"
      transition: "none"
    active:
      background: "rgba(255,255,255,0.1)"
      transition: "none"
    exit:
      to: { opacity: 0 }
      duration: 0
      easing: "step-end"
