# Sigil v3.0 — Philosophy (Soul Binder)
#
# "Sweat the art. We handle the mechanics. Return to flow."
#
# The Philosophy layer captures product intent, design principles,
# and conflict resolution rules. This is the soul of the product.

version: "3.0.0"
codename: "Living Engine"

# =============================================================================
# INTENT HIERARCHY
# =============================================================================

intent:
  primary: "Trust above all else"
  secondary:
    - "Empower craftsman deliberation"
    - "Protect user autonomy"
    - "Reduce cognitive load"
    - "Enable flow state"
  anti_goals:
    - "Never rush critical decisions"
    - "Never hide important information"
    - "Never manipulate user behavior"
    - "Never compromise security for convenience"

# =============================================================================
# DESIGN PRINCIPLES
# =============================================================================

principles:
  - id: trust_first
    name: "Trust First"
    statement: "Trust can be damaged but never recovered. Speed can always be recovered."
    rationale: "In financial applications, one broken promise destroys years of relationship building. We optimize for trust preservation even at the cost of speed."
    priority: 100
    zones: []  # All zones
    examples:
      - scenario: "User wants to withdraw funds"
        good: "Clear confirmation, visible fees, estimated time, cancel option"
        bad: "One-click withdraw with fine print"
      - scenario: "Transaction pending"
        good: "Real-time status updates, clear timeline"
        bad: "Spinner with no context"

  - id: sweat_the_art
    name: "Sweat the Art"
    statement: "Craftsman deliberation is valuable. Don't rush design decisions."
    rationale: "Quick decisions often become technical debt. Taking time to consider options leads to better outcomes."
    priority: 90
    zones: []  # All zones
    examples:
      - scenario: "Choosing primary CTA color"
        good: "Consider, test, decide, lock for 90 days"
        bad: "Pick blue because it's popular"

  - id: newcomer_safety
    name: "Newcomer Safety Net"
    statement: "When newcomer and power user needs conflict, protect the newcomer."
    rationale: "Power users can customize and work around constraints. Newcomers cannot protect themselves from confusion."
    priority: 80
    zones: [critical]
    examples:
      - scenario: "Advanced feature visibility"
        good: "Hidden by default, discoverable on demand"
        bad: "All features visible, overwhelming newcomers"

  - id: honest_loading
    name: "Honest Loading States"
    statement: "Never hide the truth of what's happening. Loading states must inform, not deceive."
    rationale: "Spinners without context create anxiety. Users deserve to know what's happening with their money."
    priority: 75
    zones: [critical, admin]
    examples:
      - scenario: "Transaction processing"
        good: "Step-by-step progress: 'Validating → Signing → Confirming'"
        bad: "Infinite spinner with no indication of progress"

  - id: escape_hatches
    name: "Escape Hatches Exist"
    statement: "Users must always have a way out. Never trap them in a flow."
    rationale: "Trapped users become anxious users. Anxiety destroys trust."
    priority: 70
    zones: []  # All zones
    examples:
      - scenario: "Multi-step wizard"
        good: "Back button, cancel button, save draft option"
        bad: "Forward-only flow with no escape"

  - id: server_authority
    name: "Server is Truth"
    statement: "In critical zones, the server is the source of truth. Optimistic UI is forbidden."
    rationale: "Showing false positives in financial contexts is worse than showing loading states."
    priority: 95
    zones: [critical]
    examples:
      - scenario: "Deposit confirmation"
        good: "Wait for server confirmation before showing success"
        bad: "Show success immediately, rollback if server fails"

  - id: accessible_by_default
    name: "Accessible by Default"
    statement: "Accessibility is not a feature, it's a requirement. Build for everyone."
    rationale: "Accessibility constraints often lead to better design for everyone."
    priority: 85
    zones: []  # All zones
    examples:
      - scenario: "Color-coded status"
        good: "Color + icon + text label"
        bad: "Color only (fails for colorblind users)"

# =============================================================================
# CONFLICT RESOLUTION
# =============================================================================

conflict_resolution:
  default_strategy: priority

  rules:
    - id: trust_vs_speed
      conflict: [trust, speed]
      winner: trust
      rationale: "Speed can be recovered. Trust cannot."
      context: always

    - id: newcomer_vs_power_user
      conflict: [newcomer, power_user]
      winner: newcomer
      rationale: "Power users can customize. Newcomers need protection."
      context: always

    - id: marketing_vs_security
      conflict: [marketing, security]
      winner: security
      rationale: "Constitution exists for a reason. Security is non-negotiable."
      context: always

    - id: simplicity_vs_completeness
      conflict: [simplicity, completeness]
      winner: simplicity
      rationale: "In critical zones, less is more. Reduce cognitive load."
      context: critical_zone

    - id: speed_vs_accuracy
      conflict: [speed, accuracy]
      winner: accuracy
      rationale: "In financial contexts, accuracy always beats speed."
      context: critical_zone

    - id: engagement_vs_clarity
      conflict: [engagement, clarity]
      winner: clarity
      rationale: "Fun animations are worthless if users don't understand what's happening."
      context: always

# =============================================================================
# DECISION HIERARCHY
# =============================================================================

# When principles conflict, resolve in this order (first = highest priority)
decision_hierarchy:
  - trust_first
  - server_authority
  - sweat_the_art
  - accessible_by_default
  - newcomer_safety
  - honest_loading
  - escape_hatches
