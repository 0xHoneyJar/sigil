# Sigil Memory: Mutation Template
# Active mutations are experiments that haven't been promoted to canon.

mutation:
  # ═══════════════════════════════════════════════════════════════════
  # IDENTITY
  # ═══════════════════════════════════════════════════════════════════

  id: "MUT-YYYY-NNN"         # Auto-generated ID
  status: "active"           # active | promoted | archived

  created_at: ""             # ISO date when mutation was created
  updated_at: ""             # ISO date when mutation was last modified
  age_days: 0                # Auto-calculated days since creation

  # ═══════════════════════════════════════════════════════════════════
  # CHANGE DETAILS
  # ═══════════════════════════════════════════════════════════════════

  file: ""                   # File path that was changed
  zone: ""                   # Zone the change belongs to

  change:
    type: ""                 # style | behavior | layout | animation
    description: |
      What was changed and why?

    before: |
      # Original code/pattern (optional)

    after: |
      # New code/pattern

  # ═══════════════════════════════════════════════════════════════════
  # EXPERIMENT CONTEXT
  # ═══════════════════════════════════════════════════════════════════

  experiment:
    hypothesis: |
      What we're trying to learn from this change.
      Example: "Larger click targets will reduce mis-taps on mobile"

    success_criteria: |
      How we'll know if this worked.
      Example: "Mis-tap rate drops by 20%"

    tags:
      # Experiment tags for grouping/filtering
      # Example: ["mobile", "accessibility", "claim-flow"]
      []

  # ═══════════════════════════════════════════════════════════════════
  # CONFLICTS
  # ═══════════════════════════════════════════════════════════════════

  conflicts_with:
    # List of mutation IDs that conflict with this one
    # Example: ["MUT-2026-003", "MUT-2026-007"]
    []

  conflict_reason: ""        # Why they conflict (if any)

  # ═══════════════════════════════════════════════════════════════════
  # APPROVAL STATUS
  # ═══════════════════════════════════════════════════════════════════

  ruling:
    has_ruling: false        # Has Taste Key issued a ruling?
    ruling_id: null          # Reference to ruling ID

  # ═══════════════════════════════════════════════════════════════════
  # LIFECYCLE
  # ═══════════════════════════════════════════════════════════════════

  promoted:
    promoted_at: null        # ISO date when promoted to canon
    promoted_by: null        # Who promoted it
    canonical_pattern: null  # Reference to pattern in rules/canon

  archived:
    archived_at: null        # ISO date when archived
    archived_by: null        # Who archived it
    reason: null             # Why it was archived

# ═══════════════════════════════════════════════════════════════════
# MUTATION LIFECYCLE
# ═══════════════════════════════════════════════════════════════════
#
# 1. ACTIVE: Experiment in progress
#    - Created via code change
#    - Tracked for 30 days
#    - Can conflict with other mutations
#
# 2. STALE (>30 days): Needs decision
#    - /garden will flag as STALE_MUTATION
#    - Decision: promote to canon or archive
#
# 3. PROMOTED: Became canonical pattern
#    - Recorded in rules.md or pattern library
#    - Future code should follow this pattern
#
# 4. ARCHIVED: Moved to graveyard
#    - Didn't work or superseded
#    - Kept for historical reference
#
# Commands:
# - /garden mutations       # Review active mutations
# - /garden promote MUT-ID  # Promote to canon
# - /garden archive MUT-ID  # Move to graveyard
